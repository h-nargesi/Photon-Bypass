<c-row>
    <c-col [md]="6">
      <form (ngSubmit)="onSubmit()" [formGroup]="simpleForm" cForm novalidate>
        <c-row class="mb-1">
          <label [sm]="4" cCol cLabel="col" for="firstName">First name</label>
          <c-col *ngIf="simpleForm.controls['firstName'] as ctrl" [sm]="8">
            <input
              [valid]="
                ctrl.touched && ctrl.valid
                  ? true
                  : (submitted || ctrl.touched) && ctrl.invalid
                  ? false
                  : undefined
              "
              autocomplete="off"
              cFormControl
              formControlName="firstName"
              id="firstName"
              placeholder="First name"
              required
            />
            <c-form-feedback *ngIf="submitted || ctrl.invalid" [valid]="!(submitted || ctrl.invalid)">
              <ng-container *ngIf="ctrl.errors as errors">
                <div *ngIf="errors['required']">First Name is required</div>
              </ng-container>
            </c-form-feedback>
            <div class="ltr" style="position: relative; color: red;">
              submitted: {{ submitted }}<br/>
              ctrl.touched: {{ ctrl.touched }}<br/>
              ctrl.valid: {{ ctrl.valid }}<br/>
              ctrl.invalid: {{ ctrl.invalid }}<br/>
              valid: {{ ctrl.touched && ctrl.valid ? true : (submitted || ctrl.touched) && ctrl.invalid ? false : undefined }}<br/>
            </div>
          </c-col>
        </c-row>
        <c-row class="mb-1">
          <label [sm]="4" cCol cLabel="col" for="lastName">Last name</label>
          <c-col *ngIf="simpleForm.controls['lastName'] as ctrl" [sm]="8">
            <input
              [valid]="
                ctrl.touched && ctrl.valid
                  ? true
                  : (submitted || ctrl.touched) && ctrl.invalid
                  ? false
                  : undefined
              "
              autocomplete="off"
              cFormControl
              formControlName="lastName"
              id="lastName"
              placeholder="Last name"
              required
            />
            <c-form-feedback *ngIf="submitted || ctrl.invalid" [valid]="!(submitted || ctrl.invalid)">
              <ng-container *ngIf="ctrl.errors as errors">
                <div *ngIf="errors['required']">Last Name is required</div>
              </ng-container>
            </c-form-feedback>
          </c-col>
        </c-row>
        <c-row class="mb-1">
          <label [sm]="4" cCol cLabel="col" for="username">Username</label>
          <c-col *ngIf="simpleForm.controls['username'] as ctrl" [sm]="8">
            <input
              [valid]="
                ctrl.touched && ctrl.valid
                  ? true
                  : (submitted || ctrl.touched) && ctrl.invalid
                  ? false
                  : undefined
              "
              autocomplete="off"
              cFormControl
              formControlName="username"
              id="username"
              placeholder="Username"
              required
            />
            <c-form-feedback *ngIf="submitted || ctrl.invalid" [valid]="!(submitted || ctrl.invalid)">
              <ng-container *ngIf="ctrl.errors as errors">
                <div *ngIf="errors['required']">Username is required</div>
                <div *ngIf="errors['minlength']">
                  {{ formErrors.username.minLength }}
                </div>
                <div *ngIf="errors['pattern']">
                  {{ formErrors.username.pattern }}
                </div>
              </ng-container>
            </c-form-feedback>
          </c-col>
        </c-row>
        <c-row class="mb-1">
          <label [sm]="4" cCol cLabel="col" for="email">Email</label>
          <c-col *ngIf="simpleForm.controls['email'] as ctrl" [sm]="8">
            <input
              [valid]="
                ctrl.touched && ctrl.valid
                  ? true
                  : (submitted || ctrl.touched) && ctrl.invalid
                  ? false
                  : undefined
              "
              autocomplete="off"
              cFormControl
              formControlName="email"
              id="email"
              placeholder="Email"
              required
              type="email"
            />
            <c-form-feedback *ngIf="submitted || ctrl.invalid" [valid]="!(submitted || ctrl.invalid)">
              <ng-container *ngIf="ctrl.errors as errors">
                <div *ngIf="errors?.['required']">Email is required</div>
                <div *ngIf="errors?.['email']">
                  {{ formErrors.email?.email }}
                </div>
              </ng-container>
            </c-form-feedback>
          </c-col>
        </c-row>
        <c-row class="mb-1">
          <label [sm]="4" cCol cLabel="col" for="password">Password</label>
          <c-col *ngIf="simpleForm.controls['password'] as ctrl" [sm]="8">
            <input
              [valid]="
                ctrl.touched && ctrl.valid
                  ? true
                  : (submitted || ctrl.touched) && ctrl.invalid
                  ? false
                  : undefined
              "
              autocomplete="new-password"
              cFormControl
              formControlName="password"
              id="password"
              placeholder="Password"
              required
              type="password"
            />
            <c-form-feedback *ngIf="submitted || ctrl.invalid" [valid]="!(submitted || ctrl.invalid)">
              <ng-container *ngIf="ctrl.errors as errors">
                <div *ngIf="errors?.['required']">Password is required</div>
                <div *ngIf="errors?.['minlength']">
                  {{ formErrors['password'].minLength }}
                </div>
                <div *ngIf="errors['pattern']">
                  {{ formErrors['password'].pattern }}
                </div>
              </ng-container>
            </c-form-feedback>
          </c-col>
        </c-row>
        <c-row class="mb-1">
          <label [sm]="4" cCol cLabel="col" for="confirmPassword">Confirm password</label>
          <c-col *ngIf="simpleForm.controls['confirmPassword'] as ctrl" [sm]="8">
            <input
              [valid]="
                ctrl.touched && ctrl.valid
                  ? true
                  : (submitted || ctrl.touched) && ctrl.invalid
                  ? false
                  : undefined
              "
              autocomplete="off"
              cFormControl
              formControlName="confirmPassword"
              id="confirmPassword"
              placeholder="Confirm password"
              required
              type="password"
            />
            <c-form-feedback *ngIf="submitted || ctrl.invalid" [valid]="!(submitted || ctrl.invalid)">
              <ng-container *ngIf="ctrl.errors as errors">
                <div *ngIf="errors?.['passwordMismatch']">
                  {{ formErrors['confirmPassword'].passwordMismatch }}
                </div>
                <div *ngIf="errors?.['required']">Confirmation is required</div>
              </ng-container>
            </c-form-feedback>
          </c-col>
        </c-row>
        <c-row class="mb-1">
          <label [sm]="4" cCol cLabel="col" for="birthday">Date of Birth</label>
          @let ctrl = simpleForm.controls['birthday'];
          <c-col [sm]="8">
            <c-date-picker
              formControlName="birthday"
              id="birthday"
              required
            />
            <c-form-feedback *ngIf="submitted || ctrl.invalid" [valid]="!(submitted || ctrl.invalid)">
              <ng-container *ngIf="ctrl.errors as errors">
                <div *ngIf="errors?.['required']">Birthday date required</div>
              </ng-container>
            </c-form-feedback>
          </c-col>
        </c-row>
        <c-row class="mb-1">
          <c-col *ngIf="simpleForm.controls['accept'] as ctrl">
            <c-form-check>
              <input
                [valid]="ctrl.valid ? true : submitted && ctrl.invalid ? false : undefined"
                cFormCheckInput
                formControlName="accept"
                id="accept"
                required
                type="checkbox"
              />
              <label cFormCheckLabel for="accept">I accept the terms of use</label>
              <c-form-feedback *ngIf="submitted && ctrl.invalid" [valid]="false">
                <ng-container *ngIf="ctrl.errors as errors">
                  <div *ngIf="errors['required']">You have to accept our Terms and Conditions</div>
                </ng-container>
              </c-form-feedback>
            </c-form-check>
          </c-col>
        </c-row>
        <hr />
        <c-button-group>
          <button
            [tabindex]="'0'"
            cButton
            color="primary"
            type="submit"
          >
            Submit
          </button>
          <button
            (click)="onValidate()"
            [disabled]="simpleForm.valid"
            [tabindex]="'0'"
            cButton
            color="success"
          >
            Validate
          </button>
          <button (click)="onReset()" [tabindex]="'0'" cButton color="danger" type="reset">
            Reset
          </button>
        </c-button-group>
      </form>
    </c-col>
    <c-col [md]="6" class="ltr">
      <c-card [ngClass]="{ 'bg-info': simpleForm.valid, 'bg-dark': simpleForm.invalid}">
        <c-card-body class="text-white">
          <pre>Value: <code>{{ simpleForm.value | json }}</code></pre>
          <ul>
            <li>Status: {{ simpleForm.status }}</li>
            <li>Valid: {{ simpleForm.valid }}</li>
            <li>Pristine: {{ simpleForm.pristine }}</li>
            <li>Errors: {{ simpleForm.errors | json }}</li>
          </ul>
          <ul>
            @for (ctrl of formControls; track ctrl) {
              <li>
                {{ ctrl }}
                <ul>
                  <li>Invalid: {{ simpleForm.controls[ctrl].invalid | json }}</li>
                  <li>Pristine: {{ simpleForm.controls[ctrl].pristine | json }}</li>
                  <li>Status: {{ simpleForm.controls[ctrl].status | json }}</li>
                  <li>Touched: {{ simpleForm.controls[ctrl].touched | json }}</li>
                  <li>Errors: {{ simpleForm.controls[ctrl].errors | json }}</li>
                </ul>
              </li>
            }
          </ul>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>